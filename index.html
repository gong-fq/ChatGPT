<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>History of English | è‹±è¯­å‘å±•å²</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      margin: 0;
      padding: 0;
      background: #f9fafb;
      color: #222;
      line-height: 1.7;
    }
    header {
      background: #1e3a8a;
      color: #fff;
      padding: 1.5rem;
      text-align: center;
    }
    header small {
      display: block;
      margin-top: 0.5rem;
      opacity: 0.9;
    }
    main {
      max-width: 900px;
      margin: auto;
      padding: 1.5rem;
      background: #fff;
    }
    h2 {
      border-bottom: 2px solid #e5e7eb;
      padding-bottom: 0.3rem;
      margin-top: 2.5rem;
    }
    .toggle {
      text-align: right;
      margin-bottom: 1rem;
    }
    button {
      padding: 0.4rem 0.7rem;
      margin-left: 0.3rem;
      cursor: pointer;
    }
    .cn { display: none; }
    .controls {
      margin: 1rem 0;
      padding: 1rem;
      background: #f1f5f9;
    }
    footer {
      text-align: center;
      padding: 1.5rem;
      font-size: 0.9rem;
      color: #555;
    }
  </style>
</head>

<body>
<header>
  <h1>History of the English Language</h1>
  <small>è‹±è¯­è¯­è¨€å‘å±•å² Â· å­¦æœ¯å¯¼è§ˆ</small>
  <small>ç”±é¾šå‡¤ä¹¾æ•™æˆç²¾å¿ƒè®¾è®¡</small>
</header>

<main>
  <div class="toggle">
    Language:
    <button onclick="setLang('en')">English</button>
    <button onclick="setLang('cn')">ä¸­æ–‡</button>
  </div>

  <!-- å¯¼è¯­ -->
  <section>
    <h2>Introduction / å¯¼è¯­</h2>
    <p class="en">
      The history of English is a story of migration, conquest, contact, and
      cultural transformation. English did not emerge fully formed; rather, it
      evolved through centuries of interaction among peoples, languages, and
      institutions.
    </p>
    <p class="cn">
      è‹±è¯­çš„å†å²æ˜¯ä¸€éƒ¨å…³äºè¿å¾™ã€å¾æœã€è¯­è¨€æ¥è§¦ä¸æ–‡åŒ–å˜è¿çš„å†å²ã€‚è‹±è¯­å¹¶éä¸€è¹´è€Œå°±ï¼Œ
      è€Œæ˜¯åœ¨æ•°ä¸ªä¸–çºªä¸­ï¼Œé€šè¿‡ä¸åŒæ°‘æ—ã€è¯­è¨€ä¸ç¤¾ä¼šåˆ¶åº¦çš„äº’åŠ¨é€æ¸å½¢æˆçš„ã€‚
    </p>
  </section>

  <!-- å²å‰è‹±è¯­ -->
  <section>
    <h2>Before English / å²å‰è‹±è¯­</h2>
    <p class="en">
      Before English existed, the British Isles were home to Celtic languages.
      Later, Roman occupation introduced Latin, leaving lasting traces in place
      names and early vocabulary.
    </p>
    <p class="cn">
      åœ¨è‹±è¯­å‡ºç°ä¹‹å‰ï¼Œä¸åˆ—é¢ ç¾¤å²›ä¸»è¦ä½¿ç”¨å‡¯å°”ç‰¹è¯­æ—è¯­è¨€ã€‚
      éšåçš„ç½—é©¬ç»Ÿæ²»å°†æ‹‰ä¸è¯­å¼•å…¥å½“åœ°ï¼Œå¹¶åœ¨åœ°åå’Œè¯æ±‡å±‚é¢ç•™ä¸‹æ·±åˆ»å½±å“ã€‚
    </p>
  </section>

  <!-- å¤è‹±è¯­ -->
  <section>
    <h2>Old English (c. 450â€“1100)</h2>
    <p class="en">
      Old English developed from the Germanic dialects brought by the Angles,
      Saxons, and Jutes. It was highly inflected and largely unintelligible to
      modern English speakers.
    </p>
    <p class="cn">
      å¤è‹±è¯­æºäºç›æ ¼é²äººã€æ’’å…‹é€Šäººå’Œæœ±ç‰¹äººå¸¦æ¥çš„æ—¥è€³æ›¼æ–¹è¨€ï¼Œ
      å…¶å½¢æ€å˜åŒ–å¤æ‚ï¼Œä¸ç°ä»£è‹±è¯­å·®å¼‚æå¤§ã€‚
    </p>
  </section>

  <!-- ä¸­å¤è‹±è¯­ -->
  <section>
    <h2>Middle English (c. 1100â€“1500)</h2>
    <p class="en">
      The Norman Conquest of 1066 introduced massive French influence, reshaping
      English vocabulary, law, and culture.
    </p>
    <p class="cn">
      1066 å¹´è¯ºæ›¼å¾æœåï¼Œå¤§é‡æ³•è¯­è¯æ±‡è¿›å…¥è‹±è¯­ï¼Œ
      æ·±åˆ»å½±å“äº†æ³•å¾‹ã€è¡Œæ”¿å’Œæ–‡åŒ–è¡¨è¾¾ã€‚
    </p>
  </section>

  <!-- è¿‘ä»£è‹±è¯­ -->
  <section>
    <h2>Early Modern English (c. 1500â€“1700)</h2>
    <p class="en">
      This period saw the Great Vowel Shift, the rise of printing, and the works
      of Shakespeare, stabilizing grammar and expanding expressive power.
    </p>
    <p class="cn">
      è¿™ä¸€æ—¶æœŸç»å†äº†å…ƒéŸ³å¤§æ¨ç§»ã€å°åˆ·æœ¯æ™®åŠä»¥åŠèå£«æ¯”äºšçš„åˆ›ä½œï¼Œ
      è‹±è¯­åœ¨è¯­æ³•å’Œè¡¨ç°åŠ›ä¸Šé€æ¸å®šå‹ã€‚
    </p>
  </section>

  <!-- ç°ä»£è‹±è¯­ -->
  <section>
    <h2>Modern English (1700â€“present)</h2>
    <p class="en">
      Modern English is shaped by industrialization, colonial expansion, and
      global communication, becoming a world language.
    </p>
    <p class="cn">
      ç°ä»£è‹±è¯­å—å·¥ä¸šåŒ–ã€æ®–æ°‘æ‰©å¼ ä¸å…¨çƒä¼ æ’­å½±å“ï¼Œ
      å·²å‘å±•ä¸ºå…¨çƒé€šç”¨è¯­è¨€ã€‚
    </p>
  </section>

  <!-- è¯­éŸ³ä¸ AI -->
  <section class="controls">
    <h2>Voice & AI Assistant</h2>
    <button onclick="startSpeech()">ğŸ¤ Speech Input</button>
    <button onclick="speakText()">ğŸ”Š Text to Speech</button>
    <button onclick="askAI()">ğŸ¤– Ask DeepSeek</button>
    <p id="result"></p>
  </section>
</main>

<footer>
  Â© English History Learning App Â· Academic Reference Version
</footer>

<script>
  function setLang(lang) {
    document.querySelectorAll(".en").forEach(e => e.style.display = lang === "en" ? "block" : "none");
    document.querySelectorAll(".cn").forEach(e => e.style.display = lang === "cn" ? "block" : "none");
  }

  function speakText() {
    const text = window.getSelection().toString() || document.body.innerText.slice(0, 300);
    const utterance = new SpeechSynthesisUtterance(text);
    utterance.lang = "en-US";
    speechSynthesis.speak(utterance);
  }

  function startSpeech() {
    const rec = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
    rec.lang = "en-US";
    rec.onresult = e => document.getElementById("result").innerText = e.results[0][0].transcript;
    rec.start();
  }

  async function askAI() {
    const q = prompt("Ask about English history:");
    if (!q) return;
    const r = await fetch("/.netlify/functions/chat", {
      method: "POST",
      body: JSON.stringify({ question: q })
    });
    const data = await r.json();
    alert(data.answer);
  }
</script>
</body>
</html>
